<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Register Form</title>
    <link rel="stylesheet" href="CSS/register.css">
</head>

<body>

    <div id="navbar"></div>

    <main>

        <h1>School Registration</h1>
        <form>

            <input class="input-group" type="text" id="username" name="username" placeholder="Enter school name">

            <input class="input-group" type="email" name="email" id="email" placeholder="Enter school email">

            <input class="input-group" type="tel" id="phone" name="phone" placeholder="Enter contact number">

            <input class="input-group" type="text" id="contact-name" placeholder="Name of a person">

            <input class="input-group" type="number" name="students" min="1" max="100" placeholder="Number of students">

            <div>
                <label for="visit-date">Visit Date</label>
                <input class="input-group" type="date" id="visit-date" name="visit_date" required>
            </div>

            <div>
                <label for="time-slot">Time Slot</label>
                <select class="input-group" id="time-slot" name="time_slot" required>
                    <option value="" disabled selected>Select a time slot</option>
                    <option value="10-11am">10:00 AM – 11:00 AM</option>
                    <option value="11-12pm">11:00 AM – 12:00 PM</option>
                    <option value="12-1pm">12:00 PM – 01:00 PM</option>
                    <option value="1-2pm">01:00 PM – 02:00 PM</option>
                    <option value="2-3pm">02:00 PM – 03:00 PM</option>
                    <option value="3-4pm">03:00 PM – 04:00 PM</option>
                </select>
            </div>



            <button type="submit">SUBMIT</button>

        </form>
    </main>


    <script>
  // ✅ Load navbar
  fetch("navbar.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("navbar").innerHTML = data;
    });

  // ✅ Handle form submission and store data in localStorage
  document.querySelector("form").addEventListener("submit", function (event) {
    event.preventDefault(); // Stop page reload

    // Collect form data
    const schoolData = {
      username: document.getElementById("username").value.trim(),
      email: document.getElementById("email").value.trim(),
      phone: document.getElementById("phone").value.trim(),
      contactName: document.getElementById("contact-name").value.trim(),
      students: document.querySelector("input[name='students']").value.trim(),
      visitDate: document.getElementById("visit-date").value,
      timeSlot: document.getElementById("time-slot").value
    };

    // ✅ Fetch existing data from localStorage
    let schools = JSON.parse(localStorage.getItem("schools")) || [];

    // ✅ Add new entry
    schools.push(schoolData);

    // ✅ Save back to localStorage
    localStorage.setItem("schools", JSON.stringify(schools));

    alert("School registered successfully!");

    // ✅ Clear form fields after submission
    document.querySelector("form").reset();
  });
</script>

</body>

</html>